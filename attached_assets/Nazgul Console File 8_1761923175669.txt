client:745 WebSocket connection to 'wss://4bfb526c-f8d6-4438-8e29-eb9805353be8-00-rybydy69e9r8.janeway.replit.dev/?token=bFpUYenIDGIU' failed: 
createConnection @ client:745
client:772 [vite] failed to connect to websocket (Error: WebSocket closed without opened.). 
connect @ client:772
client:423 Uncaught (in promise) Error: WebSocket closed without opened.
    at WebSocket.<anonymous> (client:423:30)
react-dom_client.js?v=453f8220:20103 Download the React DevTools for a better development experience: https://react.dev/link/react-devtools
config.js:51 ✅ OpenAI API configured successfully
config.js:52    Key prefix: sk-proj...
config.js:53    Key length: 164 characters
App.jsx:93 Loaded 32731 cards into database
App.jsx:93 Loaded 32731 cards into database
App.jsx:241 Deck Strategy Analysis: {success: true, timestamp: '2025-10-31T14:07:41.975Z', analysis: {…}, metadata: {…}}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
activatedAbilityEngine.js:116 [parseActivatedAbilities] Detected landcycling: Lórien Revealed → Island (cost: {1})
activatedAbilityEngine.js:70 [parseActivatedAbilities] Detected fetch land: Evolving Wilds
activatedAbilityEngine.js:116 [parseActivatedAbilities] Detected landcycling: Lórien Revealed → Island (cost: {1})
enhancedStepByStepGame.js:675 🔍 Creating deck behavior manifest...
cardBehaviorAnalyzer.js:705 🔍 [PARSER] Commander's Sphere oracle text: {T}: Add one mana of any color in your commander's color identity.\nSacrifice this artifact: Draw a card.
cardBehaviorAnalyzer.js:706 🔍 [PARSER] Split into 2 lines
cardBehaviorAnalyzer.js:708 🔍 [PARSER]   Line 0: {T}: Add one mana of any color in your commander's color identity.
cardBehaviorAnalyzer.js:708 🔍 [PARSER]   Line 1: Sacrifice this artifact: Draw a card.
cardBehaviorAnalyzer.js:731 🔍 [PARSER] Commander's Sphere - Successfully parsed ability: {
  "abilityText": "{T}: Add one mana of any color in your commander's color identity.",
  "isManaAbility": true,
  "activationCost": [
    "{T}"
  ],
  "produces": [
    {
      "quantity": 1,
      "types": [
        {
          "choice": [
            "W",
            "U",
            "B",
            "R",
            "G"
          ],
          "restriction": "commander_identity"
        }
      ]
    }
  ]
}
cardBehaviorAnalyzer.js:705 🔍 [PARSER] Sol Ring oracle text: {T}: Add {C}{C}.
cardBehaviorAnalyzer.js:706 🔍 [PARSER] Split into 1 lines
cardBehaviorAnalyzer.js:708 🔍 [PARSER]   Line 0: {T}: Add {C}{C}.
cardBehaviorAnalyzer.js:705 🔍 [PARSER] Underground River oracle text: {T}: Add {C}.\n{T}: Add {U} or {B}. This land deals 1 damage to you.
cardBehaviorAnalyzer.js:706 🔍 [PARSER] Split into 2 lines
cardBehaviorAnalyzer.js:708 🔍 [PARSER]   Line 0: {T}: Add {C}.
cardBehaviorAnalyzer.js:708 🔍 [PARSER]   Line 1: {T}: Add {U} or {B}. This land deals 1 damage to you.
enhancedStepByStepGame.js:708 ✅ Behavior manifest created: {totalManaProducers: 22, totalFetchLands: 1, totalTokenGenerators: 12, totalCardDraw: 21}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
enhancedStepByStepGame.js:1880 🔍 [untap] BEFORE generateMana - Expected: 0 (lands:0 + artifacts:0 + creatures:0)
enhancedStepByStepGame.js:1881 🔍 [untap] Land count: 0, Artifact count: 0, Creature count: 0
gameEngine.js:510 🔍 [generateMana] Starting - Turn 1
gameEngine.js:511 🔍 [generateMana] Battlefield: 0 lands, 0 artifacts, 0 creatures
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 0 available mana abilities
gameEngine.js:577 🔍 [generateMana] Final total: 0 available sources
gameEngine.js:578 🔍 [generateMana] Preview flexibility: {W: 0, U: 0, B: 0, R: 0, G: 0, …}
enhancedStepByStepGame.js:1889 🔍 [untap] AFTER generateMana - Expected: 0, Actual: 0
eventSystem.js:169 📤 Event Emitted: PHASE_CHANGED {source: 'unknown', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: CARD_DRAWN {source: 'Countersquall', queueSize: 1}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 1 available mana abilities
manaPool.js:647    0: Sunken Ruins (land) → 1x{C}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
enhancedStepByStepGame.js:1880 🔍 [untap] BEFORE generateMana - Expected: 1 (lands:1 + artifacts:0 + creatures:0)
enhancedStepByStepGame.js:1881 🔍 [untap] Land count: 1, Artifact count: 0, Creature count: 0
gameEngine.js:510 🔍 [generateMana] Starting - Turn 2
gameEngine.js:511 🔍 [generateMana] Battlefield: 1 lands, 0 artifacts, 0 creatures
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 1 available mana abilities
manaPool.js:647    0: Sunken Ruins (land) → 1x{C}
gameEngine.js:577 🔍 [generateMana] Final total: 1 available sources
gameEngine.js:578 🔍 [generateMana] Preview flexibility: {W: 0, U: 0, B: 0, R: 0, G: 0, …}
enhancedStepByStepGame.js:1889 🔍 [untap] AFTER generateMana - Expected: 1, Actual: 1
eventSystem.js:169 📤 Event Emitted: PHASE_CHANGED {source: 'unknown', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: CARD_DRAWN {source: 'Brainstorm', queueSize: 1}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 2 available mana abilities
manaPool.js:647    0: Sunken Ruins (land) → 1x{C}
manaPool.js:647    1: Island (land) → 1x{U}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {U}
manaPool.js:686 🧮 [ManaSolver] Available sources: 2 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 0}
manaPool.js:731    ✓ Using Island for {U}
manaPool.js:761 ✅ [ManaSolver] Found solution using 1 sources
manaPool.js:404 🔍 [canPay] Checking "{U}": YES ✅
gameEngine.js:1005 
🎯 [castSpell] Attempting to cast Brainstorm
gameEngine.js:1006 🎯 [castSpell] Cost: {U}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {U}
manaPool.js:686 🧮 [ManaSolver] Available sources: 2 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 0}
manaPool.js:731    ✓ Using Island for {U}
manaPool.js:761 ✅ [ManaSolver] Found solution using 1 sources
gameEngine.js:1022 ✅ [castSpell] Solution found! Tapping 1 sources
gameEngine.js:1027    🔒 Tapped Island (produced {U})
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 1 available mana abilities
manaPool.js:647    0: Sunken Ruins (land) → 1x{C}
eventSystem.js:169 📤 Event Emitted: SPELL_CAST {source: 'Brainstorm', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: CARD_DRAWN {source: "Night's Whisper", queueSize: 1}
eventSystem.js:169 📤 Event Emitted: CARD_DRAWN {source: 'Nazgûl', queueSize: 2}
eventSystem.js:169 📤 Event Emitted: CARD_DRAWN {source: 'Mystic Confluence', queueSize: 3}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
enhancedStepByStepGame.js:1880 🔍 [untap] BEFORE generateMana - Expected: 2 (lands:2 + artifacts:0 + creatures:0)
enhancedStepByStepGame.js:1881 🔍 [untap] Land count: 2, Artifact count: 0, Creature count: 0
gameEngine.js:510 🔍 [generateMana] Starting - Turn 3
gameEngine.js:511 🔍 [generateMana] Battlefield: 2 lands, 0 artifacts, 0 creatures
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 2 available mana abilities
manaPool.js:647    0: Sunken Ruins (land) → 1x{C}
manaPool.js:647    1: Island (land) → 1x{U}
gameEngine.js:577 🔍 [generateMana] Final total: 2 available sources
gameEngine.js:578 🔍 [generateMana] Preview flexibility: {W: 0, U: 1, B: 0, R: 0, G: 0, …}
enhancedStepByStepGame.js:1889 🔍 [untap] AFTER generateMana - Expected: 2, Actual: 2
eventSystem.js:169 📤 Event Emitted: PHASE_CHANGED {source: 'unknown', queueSize: 4}
eventSystem.js:169 📤 Event Emitted: CARD_DRAWN {source: 'Mithril Coat', queueSize: 1}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 4 available mana abilities
manaPool.js:647    0: Sunken Ruins (land) → 1x{C}
manaPool.js:647    1: Island (land) → 1x{U}
manaPool.js:647    2: Underground River (land) → 1x{C}
manaPool.js:647    3: Underground River (land) → 1x{U/B}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {2}{B}
manaPool.js:686 🧮 [ManaSolver] Available sources: 4 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 2}
manaPool.js:731    ✓ Using Underground River for {B}
manaPool.js:758    ✓ Using Sunken Ruins for generic (producing 1x{C})
manaPool.js:758    ✓ Using Island for generic (producing 1x{U})
manaPool.js:761 ✅ [ManaSolver] Found solution using 3 sources
manaPool.js:404 🔍 [canPay] Checking "{2}{B}": YES ✅
gameEngine.js:1005 
🎯 [castSpell] Attempting to cast Nazgûl
gameEngine.js:1006 🎯 [castSpell] Cost: {2}{B}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {2}{B}
manaPool.js:686 🧮 [ManaSolver] Available sources: 4 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 2}
manaPool.js:731    ✓ Using Underground River for {B}
manaPool.js:758    ✓ Using Sunken Ruins for generic (producing 1x{C})
manaPool.js:758    ✓ Using Island for generic (producing 1x{U})
manaPool.js:761 ✅ [ManaSolver] Found solution using 3 sources
gameEngine.js:1022 ✅ [castSpell] Solution found! Tapping 3 sources
gameEngine.js:1027    🔒 Tapped Underground River (produced {B})
gameEngine.js:1027    🔒 Tapped Sunken Ruins (produced {C})
gameEngine.js:1027    🔒 Tapped Island (produced {U})
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 0 available mana abilities
eventSystem.js:169 📤 Event Emitted: SPELL_CAST {source: 'Nazgûl', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: PERMANENT_ENTERS_BATTLEFIELD {source: 'Nazgûl', queueSize: 2}
triggerHandler.js:482 🔔 1 trigger(s) matched event: PERMANENT_ENTERS_BATTLEFIELD
triggerHandler.js:347 🎯 Resolving Trigger: Nazgûl - the Ring tempts you.\nWhenever the Ring tempts you, put a +1/+1 counter on each Wraith you control.\nA deck can have up to nine cards named Nazgûl.
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
enhancedStepByStepGame.js:1880 🔍 [untap] BEFORE generateMana - Expected: 3 (lands:3 + artifacts:0 + creatures:0)
enhancedStepByStepGame.js:1881 🔍 [untap] Land count: 3, Artifact count: 0, Creature count: 0
gameEngine.js:510 🔍 [generateMana] Starting - Turn 4
gameEngine.js:511 🔍 [generateMana] Battlefield: 3 lands, 0 artifacts, 1 creatures
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 4 available mana abilities
manaPool.js:647    0: Sunken Ruins (land) → 1x{C}
manaPool.js:647    1: Island (land) → 1x{U}
manaPool.js:647    2: Underground River (land) → 1x{C}
manaPool.js:647    3: Underground River (land) → 1x{U/B}
gameEngine.js:577 🔍 [generateMana] Final total: 4 available sources
gameEngine.js:578 🔍 [generateMana] Preview flexibility: {W: 0, U: 2, B: 1, R: 0, G: 0, …}
enhancedStepByStepGame.js:1889 🔍 [untap] AFTER generateMana - Expected: 3, Actual: 4
eventSystem.js:169 📤 Event Emitted: PHASE_CHANGED {source: 'unknown', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: CARD_DRAWN {source: 'Path of Ancestry', queueSize: 1}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 4 available mana abilities
manaPool.js:647    0: Sunken Ruins (land) → 1x{C}
manaPool.js:647    1: Island (land) → 1x{U}
manaPool.js:647    2: Underground River (land) → 1x{C}
manaPool.js:647    3: Underground River (land) → 1x{U/B}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {1}{U}
manaPool.js:686 🧮 [ManaSolver] Available sources: 4 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 1}
manaPool.js:731    ✓ Using Island for {U}
manaPool.js:758    ✓ Using Sunken Ruins for generic (producing 1x{C})
manaPool.js:761 ✅ [ManaSolver] Found solution using 2 sources
manaPool.js:404 🔍 [canPay] Checking "{1}{U}": YES ✅
gameEngine.js:1005 
🎯 [castSpell] Attempting to cast Borne Upon a Wind
gameEngine.js:1006 🎯 [castSpell] Cost: {1}{U}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {1}{U}
manaPool.js:686 🧮 [ManaSolver] Available sources: 4 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 1}
manaPool.js:731    ✓ Using Island for {U}
manaPool.js:758    ✓ Using Sunken Ruins for generic (producing 1x{C})
manaPool.js:761 ✅ [ManaSolver] Found solution using 2 sources
gameEngine.js:1022 ✅ [castSpell] Solution found! Tapping 2 sources
gameEngine.js:1027    🔒 Tapped Island (produced {U})
gameEngine.js:1027    🔒 Tapped Sunken Ruins (produced {C})
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 2 available mana abilities
manaPool.js:647    0: Underground River (land) → 1x{C}
manaPool.js:647    1: Underground River (land) → 1x{U/B}
eventSystem.js:169 📤 Event Emitted: SPELL_CAST {source: 'Borne Upon a Wind', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: CARD_DRAWN {source: 'Island', queueSize: 1}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {1}{B}
manaPool.js:686 🧮 [ManaSolver] Available sources: 2 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 1}
manaPool.js:731    ✓ Using Underground River for {B}
manaPool.js:758    ✓ Using Underground River for generic (producing 1x{C})
manaPool.js:761 ✅ [ManaSolver] Found solution using 2 sources
manaPool.js:404 🔍 [canPay] Checking "{1}{B}": YES ✅
gameEngine.js:1005 
🎯 [castSpell] Attempting to cast Night's Whisper
gameEngine.js:1006 🎯 [castSpell] Cost: {1}{B}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {1}{B}
manaPool.js:686 🧮 [ManaSolver] Available sources: 2 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 1}
manaPool.js:731    ✓ Using Underground River for {B}
manaPool.js:758    ✓ Using Underground River for generic (producing 1x{C})
manaPool.js:761 ✅ [ManaSolver] Found solution using 2 sources
gameEngine.js:1022 ✅ [castSpell] Solution found! Tapping 2 sources
gameEngine.js:1027    🔒 Tapped Underground River (produced {B})
gameEngine.js:1027    🔒 Tapped Underground River (produced {C})
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 0 available mana abilities
eventSystem.js:169 📤 Event Emitted: SPELL_CAST {source: "Night's Whisper", queueSize: 2}
eventSystem.js:169 📤 Event Emitted: CARD_DRAWN {source: 'Swamp', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: CARD_DRAWN {source: 'One Ring to Rule Them All', queueSize: 2}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
eventSystem.js:169 📤 Event Emitted: CREATURE_ATTACKS {source: 'Nazgûl', queueSize: 3}
eventSystem.js:169 📤 Event Emitted: COMBAT_DAMAGE_DEALT {source: 'unknown', queueSize: 4}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
enhancedStepByStepGame.js:1880 🔍 [untap] BEFORE generateMana - Expected: 4 (lands:4 + artifacts:0 + creatures:0)
enhancedStepByStepGame.js:1881 🔍 [untap] Land count: 4, Artifact count: 0, Creature count: 0
gameEngine.js:510 🔍 [generateMana] Starting - Turn 5
gameEngine.js:511 🔍 [generateMana] Battlefield: 4 lands, 0 artifacts, 1 creatures
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 5 available mana abilities
manaPool.js:647    0: Sunken Ruins (land) → 1x{C}
manaPool.js:647    1: Island (land) → 1x{U}
manaPool.js:647    2: Underground River (land) → 1x{C}
manaPool.js:647    3: Underground River (land) → 1x{U/B}
manaPool.js:647    4: Path of Ancestry (land) → 1x{W/U/B/R/G}
gameEngine.js:577 🔍 [generateMana] Final total: 5 available sources
gameEngine.js:578 🔍 [generateMana] Preview flexibility: {W: 1, U: 3, B: 2, R: 1, G: 1, …}
enhancedStepByStepGame.js:1889 🔍 [untap] AFTER generateMana - Expected: 4, Actual: 5
eventSystem.js:169 📤 Event Emitted: PHASE_CHANGED {source: 'unknown', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: CARD_DRAWN {source: 'Sol Ring', queueSize: 1}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 6 available mana abilities
manaPool.js:647    0: Sunken Ruins (land) → 1x{C}
manaPool.js:647    1: Island (land) → 1x{U}
manaPool.js:647    2: Underground River (land) → 1x{C}
manaPool.js:647    3: Underground River (land) → 1x{U/B}
manaPool.js:647    4: Path of Ancestry (land) → 1x{W/U/B/R/G}
manaPool.js:647    5: Island (land) → 1x{U}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {1}
manaPool.js:686 🧮 [ManaSolver] Available sources: 6 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 1}
manaPool.js:758    ✓ Using Sunken Ruins for generic (producing 1x{C})
manaPool.js:761 ✅ [ManaSolver] Found solution using 1 sources
manaPool.js:404 🔍 [canPay] Checking "{1}": YES ✅
gameEngine.js:1005 
🎯 [castSpell] Attempting to cast Sol Ring
gameEngine.js:1006 🎯 [castSpell] Cost: {1}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {1}
manaPool.js:686 🧮 [ManaSolver] Available sources: 6 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 1}
manaPool.js:758    ✓ Using Sunken Ruins for generic (producing 1x{C})
manaPool.js:761 ✅ [ManaSolver] Found solution using 1 sources
gameEngine.js:1022 ✅ [castSpell] Solution found! Tapping 1 sources
gameEngine.js:1027    🔒 Tapped Sunken Ruins (produced {C})
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 5 available mana abilities
manaPool.js:647    0: Island (land) → 1x{U}
manaPool.js:647    1: Underground River (land) → 1x{C}
manaPool.js:647    2: Underground River (land) → 1x{U/B}
manaPool.js:647    3: Path of Ancestry (land) → 1x{W/U/B/R/G}
manaPool.js:647    4: Island (land) → 1x{U}
eventSystem.js:169 📤 Event Emitted: SPELL_CAST {source: 'Sol Ring', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: PERMANENT_ENTERS_BATTLEFIELD {source: 'Sol Ring', queueSize: 2}
triggerHandler.js:482 🔔 1 trigger(s) matched event: PERMANENT_ENTERS_BATTLEFIELD
triggerHandler.js:347 🎯 Resolving Trigger: Nazgûl - the Ring tempts you.\nWhenever the Ring tempts you, put a +1/+1 counter on each Wraith you control.\nA deck can have up to nine cards named Nazgûl.
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {3}{U}{U}
manaPool.js:686 🧮 [ManaSolver] Available sources: 5 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 3}
manaPool.js:731    ✓ Using Island for {U}
manaPool.js:731    ✓ Using Underground River for {U}
manaPool.js:758    ✓ Using Underground River for generic (producing 1x{C})
manaPool.js:758    ✓ Using Path of Ancestry for generic (producing 1x{W})
manaPool.js:758    ✓ Using Island for generic (producing 1x{U})
manaPool.js:761 ✅ [ManaSolver] Found solution using 5 sources
manaPool.js:404 🔍 [canPay] Checking "{3}{U}{U}": YES ✅
gameEngine.js:1005 
🎯 [castSpell] Attempting to cast Mystic Confluence
gameEngine.js:1006 🎯 [castSpell] Cost: {3}{U}{U}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {3}{U}{U}
manaPool.js:686 🧮 [ManaSolver] Available sources: 5 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 3}
manaPool.js:731    ✓ Using Island for {U}
manaPool.js:731    ✓ Using Underground River for {U}
manaPool.js:758    ✓ Using Underground River for generic (producing 1x{C})
manaPool.js:758    ✓ Using Path of Ancestry for generic (producing 1x{W})
manaPool.js:758    ✓ Using Island for generic (producing 1x{U})
manaPool.js:761 ✅ [ManaSolver] Found solution using 5 sources
gameEngine.js:1022 ✅ [castSpell] Solution found! Tapping 5 sources
gameEngine.js:1027    🔒 Tapped Island (produced {U})
gameEngine.js:1027    🔒 Tapped Underground River (produced {U})
gameEngine.js:1027    🔒 Tapped Underground River (produced {C})
gameEngine.js:1027    🔒 Tapped Path of Ancestry (produced {W})
gameEngine.js:1027    🔒 Tapped Island (produced {U})
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 1 available mana abilities
manaPool.js:647    0: Sol Ring (artifact) → 2x{C}{C}
eventSystem.js:169 📤 Event Emitted: SPELL_CAST {source: 'Mystic Confluence', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: CARD_DRAWN {source: 'Opt', queueSize: 1}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {4}
manaPool.js:686 🧮 [ManaSolver] Available sources: 1 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 4}
manaPool.js:758    ✓ Using Sol Ring for generic (producing 2x{C})
manaPool.js:740 ❌ [ManaSolver] Cannot find source for generic {2}
manaPool.js:404 🔍 [canPay] Checking "{4}": NO ❌
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {4}
manaPool.js:686 🧮 [ManaSolver] Available sources: 1 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 4}
manaPool.js:758    ✓ Using Sol Ring for generic (producing 2x{C})
manaPool.js:740 ❌ [ManaSolver] Cannot find source for generic {2}
manaPool.js:404 🔍 [canPay] Checking "{4}": NO ❌
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {4}
manaPool.js:686 🧮 [ManaSolver] Available sources: 1 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 4}
manaPool.js:758    ✓ Using Sol Ring for generic (producing 2x{C})
manaPool.js:740 ❌ [ManaSolver] Cannot find source for generic {2}
manaPool.js:404 🔍 [canPay] Checking "{4}": NO ❌
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {4}
manaPool.js:686 🧮 [ManaSolver] Available sources: 1 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 4}
manaPool.js:758    ✓ Using Sol Ring for generic (producing 2x{C})
manaPool.js:740 ❌ [ManaSolver] Cannot find source for generic {2}
manaPool.js:404 🔍 [canPay] Checking "{4}": NO ❌
enhancedStepByStepGame.js:1880 🔍 [untap] BEFORE generateMana - Expected: 7 (lands:5 + artifacts:2 + creatures:0)
enhancedStepByStepGame.js:1881 🔍 [untap] Land count: 5, Artifact count: 1, Creature count: 0
gameEngine.js:510 🔍 [generateMana] Starting - Turn 6
gameEngine.js:511 🔍 [generateMana] Battlefield: 5 lands, 1 artifacts, 1 creatures
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 7 available mana abilities
manaPool.js:647    0: Sunken Ruins (land) → 1x{C}
manaPool.js:647    1: Island (land) → 1x{U}
manaPool.js:647    2: Underground River (land) → 1x{C}
manaPool.js:647    3: Underground River (land) → 1x{U/B}
manaPool.js:647    4: Path of Ancestry (land) → 1x{W/U/B/R/G}
manaPool.js:647    5: Island (land) → 1x{U}
manaPool.js:647    6: Sol Ring (artifact) → 2x{C}{C}
gameEngine.js:577 🔍 [generateMana] Final total: 10 available sources
gameEngine.js:578 🔍 [generateMana] Preview flexibility: {W: 1, U: 4, B: 2, R: 1, G: 1, …}
enhancedStepByStepGame.js:1889 🔍 [untap] AFTER generateMana - Expected: 7, Actual: 10
eventSystem.js:169 📤 Event Emitted: PHASE_CHANGED {source: 'unknown', queueSize: 2}
eventSystem.js:169 📤 Event Emitted: CARD_DRAWN {source: 'Orcish Medicine', queueSize: 1}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 8 available mana abilities
manaPool.js:647    0: Sunken Ruins (land) → 1x{C}
manaPool.js:647    1: Island (land) → 1x{U}
manaPool.js:647    2: Underground River (land) → 1x{C}
manaPool.js:647    3: Underground River (land) → 1x{U/B}
manaPool.js:647    4: Path of Ancestry (land) → 1x{W/U/B/R/G}
manaPool.js:647    5: Island (land) → 1x{U}
manaPool.js:647    6: Swamp (land) → 1x{B}
manaPool.js:647    7: Sol Ring (artifact) → 2x{C}{C}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {3}{U}{B}
manaPool.js:686 🧮 [ManaSolver] Available sources: 8 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 3}
manaPool.js:731    ✓ Using Island for {U}
manaPool.js:731    ✓ Using Underground River for {B}
manaPool.js:758    ✓ Using Sunken Ruins for generic (producing 1x{C})
manaPool.js:758    ✓ Using Underground River for generic (producing 1x{C})
manaPool.js:758    ✓ Using Path of Ancestry for generic (producing 1x{W})
manaPool.js:761 ✅ [ManaSolver] Found solution using 5 sources
manaPool.js:404 🔍 [canPay] Checking "{3}{U}{B}": YES ✅
gameEngine.js:1125 
👑 [castCommander] Attempting to cast Lord of the Nazgûl
gameEngine.js:1126 👑 [castCommander] Base cost: {3}{U}{B}, Tax: 0, Full cost: {3}{U}{B}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {3}{U}{B}
manaPool.js:686 🧮 [ManaSolver] Available sources: 8 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 3}
manaPool.js:731    ✓ Using Island for {U}
manaPool.js:731    ✓ Using Underground River for {B}
manaPool.js:758    ✓ Using Sunken Ruins for generic (producing 1x{C})
manaPool.js:758    ✓ Using Underground River for generic (producing 1x{C})
manaPool.js:758    ✓ Using Path of Ancestry for generic (producing 1x{W})
manaPool.js:761 ✅ [ManaSolver] Found solution using 5 sources
gameEngine.js:1142 ✅ [castCommander] Solution found! Tapping 5 sources
gameEngine.js:1147    🔒 Tapped Island (produced {U})
gameEngine.js:1147    🔒 Tapped Underground River (produced {B})
gameEngine.js:1147    🔒 Tapped Sunken Ruins (produced {C})
gameEngine.js:1147    🔒 Tapped Underground River (produced {C})
gameEngine.js:1147    🔒 Tapped Path of Ancestry (produced {W})
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 3 available mana abilities
manaPool.js:647    0: Island (land) → 1x{U}
manaPool.js:647    1: Swamp (land) → 1x{B}
manaPool.js:647    2: Sol Ring (artifact) → 2x{C}{C}
eventSystem.js:169 📤 Event Emitted: PERMANENT_ENTERS_BATTLEFIELD {source: 'Lord of the Nazgûl', queueSize: 1}
triggerHandler.js:482 🔔 1 trigger(s) matched event: PERMANENT_ENTERS_BATTLEFIELD
triggerHandler.js:347 🎯 Resolving Trigger: Nazgûl - the Ring tempts you.\nWhenever the Ring tempts you, put a +1/+1 counter on each Wraith you control.\nA deck can have up to nine cards named Nazgûl.
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {U}
manaPool.js:686 🧮 [ManaSolver] Available sources: 3 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 0}
manaPool.js:731    ✓ Using Island for {U}
manaPool.js:761 ✅ [ManaSolver] Found solution using 1 sources
manaPool.js:404 🔍 [canPay] Checking "{U}": YES ✅
gameEngine.js:1005 
🎯 [castSpell] Attempting to cast Opt
gameEngine.js:1006 🎯 [castSpell] Cost: {U}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {U}
manaPool.js:686 🧮 [ManaSolver] Available sources: 3 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 0}
manaPool.js:731    ✓ Using Island for {U}
manaPool.js:761 ✅ [ManaSolver] Found solution using 1 sources
gameEngine.js:1022 ✅ [castSpell] Solution found! Tapping 1 sources
gameEngine.js:1027    🔒 Tapped Island (produced {U})
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 2 available mana abilities
manaPool.js:647    0: Swamp (land) → 1x{B}
manaPool.js:647    1: Sol Ring (artifact) → 2x{C}{C}
eventSystem.js:169 📤 Event Emitted: SPELL_CAST {source: 'Opt', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: CARD_DRAWN {source: 'Reanimate', queueSize: 1}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {B}
manaPool.js:686 🧮 [ManaSolver] Available sources: 2 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 0}
manaPool.js:731    ✓ Using Swamp for {B}
manaPool.js:761 ✅ [ManaSolver] Found solution using 1 sources
manaPool.js:404 🔍 [canPay] Checking "{B}": YES ✅
gameEngine.js:1005 
🎯 [castSpell] Attempting to cast Reanimate
gameEngine.js:1006 🎯 [castSpell] Cost: {B}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {B}
manaPool.js:686 🧮 [ManaSolver] Available sources: 2 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 0}
manaPool.js:731    ✓ Using Swamp for {B}
manaPool.js:761 ✅ [ManaSolver] Found solution using 1 sources
gameEngine.js:1022 ✅ [castSpell] Solution found! Tapping 1 sources
gameEngine.js:1027    🔒 Tapped Swamp (produced {B})
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 1 available mana abilities
manaPool.js:647    0: Sol Ring (artifact) → 2x{C}{C}
eventSystem.js:169 📤 Event Emitted: SPELL_CAST {source: 'Reanimate', queueSize: 2}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {3}
manaPool.js:686 🧮 [ManaSolver] Available sources: 1 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 3}
manaPool.js:758    ✓ Using Sol Ring for generic (producing 2x{C})
manaPool.js:740 ❌ [ManaSolver] Cannot find source for generic {1}
manaPool.js:404 🔍 [canPay] Checking "{3}": NO ❌
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {3}
manaPool.js:686 🧮 [ManaSolver] Available sources: 1 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 3}
manaPool.js:758    ✓ Using Sol Ring for generic (producing 2x{C})
manaPool.js:740 ❌ [ManaSolver] Cannot find source for generic {1}
manaPool.js:404 🔍 [canPay] Checking "{3}": NO ❌
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {3}
manaPool.js:686 🧮 [ManaSolver] Available sources: 1 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 3}
manaPool.js:758    ✓ Using Sol Ring for generic (producing 2x{C})
manaPool.js:740 ❌ [ManaSolver] Cannot find source for generic {1}
manaPool.js:404 🔍 [canPay] Checking "{3}": NO ❌
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {3}
manaPool.js:686 🧮 [ManaSolver] Available sources: 1 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 3}
manaPool.js:758    ✓ Using Sol Ring for generic (producing 2x{C})
manaPool.js:740 ❌ [ManaSolver] Cannot find source for generic {1}
manaPool.js:404 🔍 [canPay] Checking "{3}": NO ❌
enhancedStepByStepGame.js:1880 🔍 [untap] BEFORE generateMana - Expected: 8 (lands:6 + artifacts:2 + creatures:0)
enhancedStepByStepGame.js:1881 🔍 [untap] Land count: 6, Artifact count: 1, Creature count: 0
gameEngine.js:510 🔍 [generateMana] Starting - Turn 7
gameEngine.js:511 🔍 [generateMana] Battlefield: 6 lands, 1 artifacts, 4 creatures
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 8 available mana abilities
manaPool.js:647    0: Sunken Ruins (land) → 1x{C}
manaPool.js:647    1: Island (land) → 1x{U}
manaPool.js:647    2: Underground River (land) → 1x{C}
manaPool.js:647    3: Underground River (land) → 1x{U/B}
manaPool.js:647    4: Path of Ancestry (land) → 1x{W/U/B/R/G}
manaPool.js:647    5: Island (land) → 1x{U}
manaPool.js:647    6: Swamp (land) → 1x{B}
manaPool.js:647    7: Sol Ring (artifact) → 2x{C}{C}
gameEngine.js:577 🔍 [generateMana] Final total: 11 available sources
gameEngine.js:578 🔍 [generateMana] Preview flexibility: {W: 1, U: 4, B: 3, R: 1, G: 1, …}
enhancedStepByStepGame.js:1889 🔍 [untap] AFTER generateMana - Expected: 8, Actual: 11
eventSystem.js:169 📤 Event Emitted: PHASE_CHANGED {source: 'unknown', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: CARD_DRAWN {source: "Saruman's Trickery", queueSize: 1}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 8 available mana abilities
manaPool.js:647    0: Sunken Ruins (land) → 1x{C}
manaPool.js:647    1: Island (land) → 1x{U}
manaPool.js:647    2: Underground River (land) → 1x{C}
manaPool.js:647    3: Underground River (land) → 1x{U/B}
manaPool.js:647    4: Path of Ancestry (land) → 1x{W/U/B/R/G}
manaPool.js:647    5: Island (land) → 1x{U}
manaPool.js:647    6: Swamp (land) → 1x{B}
manaPool.js:647    7: Sol Ring (artifact) → 2x{C}{C}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {1}{B}
manaPool.js:686 🧮 [ManaSolver] Available sources: 8 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 1}
manaPool.js:731    ✓ Using Underground River for {B}
manaPool.js:758    ✓ Using Sunken Ruins for generic (producing 1x{C})
manaPool.js:761 ✅ [ManaSolver] Found solution using 2 sources
manaPool.js:404 🔍 [canPay] Checking "{1}{B}": YES ✅
gameEngine.js:1005 
🎯 [castSpell] Attempting to cast Orcish Medicine
gameEngine.js:1006 🎯 [castSpell] Cost: {1}{B}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {1}{B}
manaPool.js:686 🧮 [ManaSolver] Available sources: 8 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 1}
manaPool.js:731    ✓ Using Underground River for {B}
manaPool.js:758    ✓ Using Sunken Ruins for generic (producing 1x{C})
manaPool.js:761 ✅ [ManaSolver] Found solution using 2 sources
gameEngine.js:1022 ✅ [castSpell] Solution found! Tapping 2 sources
gameEngine.js:1027    🔒 Tapped Underground River (produced {B})
gameEngine.js:1027    🔒 Tapped Sunken Ruins (produced {C})
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 5 available mana abilities
manaPool.js:647    0: Island (land) → 1x{U}
manaPool.js:647    1: Path of Ancestry (land) → 1x{W/U/B/R/G}
manaPool.js:647    2: Island (land) → 1x{U}
manaPool.js:647    3: Swamp (land) → 1x{B}
manaPool.js:647    4: Sol Ring (artifact) → 2x{C}{C}
eventSystem.js:169 📤 Event Emitted: SPELL_CAST {source: 'Orcish Medicine', queueSize: 1}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {1}{U}{B}
manaPool.js:686 🧮 [ManaSolver] Available sources: 5 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 1}
manaPool.js:731    ✓ Using Island for {U}
manaPool.js:731    ✓ Using Path of Ancestry for {B}
manaPool.js:758    ✓ Using Island for generic (producing 1x{U})
manaPool.js:761 ✅ [ManaSolver] Found solution using 3 sources
manaPool.js:404 🔍 [canPay] Checking "{1}{U}{B}": YES ✅
gameEngine.js:1005 
🎯 [castSpell] Attempting to cast Sauron's Ransom
gameEngine.js:1006 🎯 [castSpell] Cost: {1}{U}{B}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {1}{U}{B}
manaPool.js:686 🧮 [ManaSolver] Available sources: 5 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 1}
manaPool.js:731    ✓ Using Island for {U}
manaPool.js:731    ✓ Using Path of Ancestry for {B}
manaPool.js:758    ✓ Using Island for generic (producing 1x{U})
manaPool.js:761 ✅ [ManaSolver] Found solution using 3 sources
gameEngine.js:1022 ✅ [castSpell] Solution found! Tapping 3 sources
gameEngine.js:1027    🔒 Tapped Island (produced {U})
gameEngine.js:1027    🔒 Tapped Path of Ancestry (produced {B})
gameEngine.js:1027    🔒 Tapped Island (produced {U})
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 2 available mana abilities
manaPool.js:647    0: Swamp (land) → 1x{B}
manaPool.js:647    1: Sol Ring (artifact) → 2x{C}{C}
eventSystem.js:169 📤 Event Emitted: SPELL_CAST {source: "Sauron's Ransom", queueSize: 1}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {3}
manaPool.js:686 🧮 [ManaSolver] Available sources: 2 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 3}
manaPool.js:758    ✓ Using Swamp for generic (producing 1x{B})
manaPool.js:758    ✓ Using Sol Ring for generic (producing 2x{C})
manaPool.js:761 ✅ [ManaSolver] Found solution using 2 sources
manaPool.js:404 🔍 [canPay] Checking "{3}": YES ✅
gameEngine.js:1005 
🎯 [castSpell] Attempting to cast Mithril Coat
gameEngine.js:1006 🎯 [castSpell] Cost: {3}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {3}
manaPool.js:686 🧮 [ManaSolver] Available sources: 2 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 3}
manaPool.js:758    ✓ Using Swamp for generic (producing 1x{B})
manaPool.js:758    ✓ Using Sol Ring for generic (producing 2x{C})
manaPool.js:761 ✅ [ManaSolver] Found solution using 2 sources
gameEngine.js:1022 ✅ [castSpell] Solution found! Tapping 2 sources
gameEngine.js:1027    🔒 Tapped Swamp (produced {B})
gameEngine.js:1027    🔒 Tapped Sol Ring (produced {C})
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:644 💎 [PotentialPool] Found 0 available mana abilities
eventSystem.js:169 📤 Event Emitted: SPELL_CAST {source: 'Mithril Coat', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: PERMANENT_ENTERS_BATTLEFIELD {source: 'Mithril Coat', queueSize: 2}
triggerHandler.js:482 🔔 2 trigger(s) matched event: PERMANENT_ENTERS_BATTLEFIELD
triggerHandler.js:347 🎯 Resolving Trigger: Nazgûl - the Ring tempts you.\nWhenever the Ring tempts you, put a +1/+1 counter on each Wraith you control.\nA deck can have up to nine cards named Nazgûl.
triggerHandler.js:347 🎯 Resolving Trigger: Mithril Coat - attach it to target legendary creature you control.\nEquipped creature has indestructible.\nEquip {3}
eventSystem.js:169 📤 Event Emitted: CREATURE_ATTACKS {source: 'Lord of the Nazgûl', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: CREATURE_ATTACKS {source: '3/3 Black Wraith Token', queueSize: 2}
eventSystem.js:169 📤 Event Emitted: CREATURE_ATTACKS {source: '3/3 Black Wraith Token', queueSize: 3}
eventSystem.js:169 📤 Event Emitted: COMBAT_DAMAGE_DEALT {source: 'unknown', queueSize: 4}
enhancedStepByStepGame.js:1880 🔍 [untap] BEFORE generateMana - Expected: 9 (lands:7 + artifacts:2 + creatures:0)
enhancedStepByStepGame.js:1881 🔍 [untap] Land count: 7, Artifact count: 1, Creature count: 0
gameEngine.js:510 🔍 [generateMana] Starting - Turn 8
gameEngine.js:511 🔍 [generateMana] Battlefield: 7 lands, 2 artifacts, 6 creatures
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:591 ⚠️ [PotentialPool] No manifest data for artifact: Mithril Coat
manaPool.js:644 💎 [PotentialPool] Found 9 available mana abilities
manaPool.js:647    0: Sunken Ruins (land) → 1x{C}
manaPool.js:647    1: Island (land) → 1x{U}
manaPool.js:647    2: Underground River (land) → 1x{C}
manaPool.js:647    3: Underground River (land) → 1x{U/B}
manaPool.js:647    4: Path of Ancestry (land) → 1x{W/U/B/R/G}
manaPool.js:647    5: Island (land) → 1x{U}
manaPool.js:647    6: Swamp (land) → 1x{B}
manaPool.js:647    7: Minas Morgul, Dark Fortress (land) → 1x{B}
manaPool.js:647    8: Sol Ring (artifact) → 2x{C}{C}
gameEngine.js:577 🔍 [generateMana] Final total: 12 available sources
gameEngine.js:578 🔍 [generateMana] Preview flexibility: {W: 1, U: 4, B: 4, R: 1, G: 1, …}
enhancedStepByStepGame.js:1889 🔍 [untap] AFTER generateMana - Expected: 9, Actual: 12
eventSystem.js:169 📤 Event Emitted: PHASE_CHANGED {source: 'unknown', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: CARD_DRAWN {source: 'Orcish Bowmasters', queueSize: 1}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {1}{U}{U}
manaPool.js:686 🧮 [ManaSolver] Available sources: 9 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 1}
manaPool.js:731    ✓ Using Island for {U}
manaPool.js:731    ✓ Using Underground River for {U}
manaPool.js:758    ✓ Using Sunken Ruins for generic (producing 1x{C})
manaPool.js:761 ✅ [ManaSolver] Found solution using 3 sources
manaPool.js:404 🔍 [canPay] Checking "{1}{U}{U}": YES ✅
gameEngine.js:1005 
🎯 [castSpell] Attempting to cast Saruman's Trickery
gameEngine.js:1006 🎯 [castSpell] Cost: {1}{U}{U}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {1}{U}{U}
manaPool.js:686 🧮 [ManaSolver] Available sources: 9 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 1}
manaPool.js:731    ✓ Using Island for {U}
manaPool.js:731    ✓ Using Underground River for {U}
manaPool.js:758    ✓ Using Sunken Ruins for generic (producing 1x{C})
manaPool.js:761 ✅ [ManaSolver] Found solution using 3 sources
gameEngine.js:1022 ✅ [castSpell] Solution found! Tapping 3 sources
gameEngine.js:1027    🔒 Tapped Island (produced {U})
gameEngine.js:1027    🔒 Tapped Underground River (produced {U})
gameEngine.js:1027    🔒 Tapped Sunken Ruins (produced {C})
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:591 ⚠️ [PotentialPool] No manifest data for artifact: Mithril Coat
manaPool.js:644 💎 [PotentialPool] Found 5 available mana abilities
manaPool.js:647    0: Path of Ancestry (land) → 1x{W/U/B/R/G}
manaPool.js:647    1: Island (land) → 1x{U}
manaPool.js:647    2: Swamp (land) → 1x{B}
manaPool.js:647    3: Minas Morgul, Dark Fortress (land) → 1x{B}
manaPool.js:647    4: Sol Ring (artifact) → 2x{C}{C}
eventSystem.js:169 📤 Event Emitted: SPELL_CAST {source: "Saruman's Trickery", queueSize: 1}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {U}{B}
manaPool.js:686 🧮 [ManaSolver] Available sources: 5 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 0}
manaPool.js:731    ✓ Using Path of Ancestry for {U}
manaPool.js:731    ✓ Using Swamp for {B}
manaPool.js:761 ✅ [ManaSolver] Found solution using 2 sources
manaPool.js:404 🔍 [canPay] Checking "{U}{B}": YES ✅
gameEngine.js:1005 
🎯 [castSpell] Attempting to cast Countersquall
gameEngine.js:1006 🎯 [castSpell] Cost: {U}{B}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {U}{B}
manaPool.js:686 🧮 [ManaSolver] Available sources: 5 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 0}
manaPool.js:731    ✓ Using Path of Ancestry for {U}
manaPool.js:731    ✓ Using Swamp for {B}
manaPool.js:761 ✅ [ManaSolver] Found solution using 2 sources
gameEngine.js:1022 ✅ [castSpell] Solution found! Tapping 2 sources
gameEngine.js:1027    🔒 Tapped Path of Ancestry (produced {U})
gameEngine.js:1027    🔒 Tapped Swamp (produced {B})
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:591 ⚠️ [PotentialPool] No manifest data for artifact: Mithril Coat
manaPool.js:644 💎 [PotentialPool] Found 3 available mana abilities
manaPool.js:647    0: Island (land) → 1x{U}
manaPool.js:647    1: Minas Morgul, Dark Fortress (land) → 1x{B}
manaPool.js:647    2: Sol Ring (artifact) → 2x{C}{C}
eventSystem.js:169 📤 Event Emitted: SPELL_CAST {source: 'Countersquall', queueSize: 1}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {4}
manaPool.js:686 🧮 [ManaSolver] Available sources: 3 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 4}
manaPool.js:758    ✓ Using Island for generic (producing 1x{U})
manaPool.js:758    ✓ Using Minas Morgul, Dark Fortress for generic (producing 1x{B})
manaPool.js:758    ✓ Using Sol Ring for generic (producing 2x{C})
manaPool.js:761 ✅ [ManaSolver] Found solution using 3 sources
manaPool.js:404 🔍 [canPay] Checking "{4}": YES ✅
gameEngine.js:1005 
🎯 [castSpell] Attempting to cast The One Ring
gameEngine.js:1006 🎯 [castSpell] Cost: {4}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {4}
manaPool.js:686 🧮 [ManaSolver] Available sources: 3 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 4}
manaPool.js:758    ✓ Using Island for generic (producing 1x{U})
manaPool.js:758    ✓ Using Minas Morgul, Dark Fortress for generic (producing 1x{B})
manaPool.js:758    ✓ Using Sol Ring for generic (producing 2x{C})
manaPool.js:761 ✅ [ManaSolver] Found solution using 3 sources
gameEngine.js:1022 ✅ [castSpell] Solution found! Tapping 3 sources
gameEngine.js:1027    🔒 Tapped Island (produced {U})
gameEngine.js:1027    🔒 Tapped Minas Morgul, Dark Fortress (produced {B})
gameEngine.js:1027    🔒 Tapped Sol Ring (produced {C})
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:591 ⚠️ [PotentialPool] No manifest data for artifact: Mithril Coat
manaPool.js:644 💎 [PotentialPool] Found 0 available mana abilities
eventSystem.js:169 📤 Event Emitted: SPELL_CAST {source: 'The One Ring', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: PERMANENT_ENTERS_BATTLEFIELD {source: 'The One Ring', queueSize: 2}
triggerHandler.js:482 🔔 2 trigger(s) matched event: PERMANENT_ENTERS_BATTLEFIELD
triggerHandler.js:347 🎯 Resolving Trigger: Nazgûl - the Ring tempts you.\nWhenever the Ring tempts you, put a +1/+1 counter on each Wraith you control.\nA deck can have up to nine cards named Nazgûl.
triggerHandler.js:347 🎯 Resolving Trigger: The One Ring - if you cast it, you gain protection from everything until your next turn.\nAt the beginning of your upkeep, you lose 1 life for each burden counter on The One Ring.\n{T}: Put a burden counter on The One Ring, then draw a card for each burden counter on The One Ring.
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
eventSystem.js:169 📤 Event Emitted: CREATURE_ATTACKS {source: '3/3 Black Wraith Token', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: CREATURE_ATTACKS {source: '3/3 Black Wraith Token', queueSize: 2}
eventSystem.js:169 📤 Event Emitted: COMBAT_DAMAGE_DEALT {source: 'unknown', queueSize: 3}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
enhancedStepByStepGame.js:1880 🔍 [untap] BEFORE generateMana - Expected: 9 (lands:7 + artifacts:2 + creatures:0)
enhancedStepByStepGame.js:1881 🔍 [untap] Land count: 7, Artifact count: 1, Creature count: 0
gameEngine.js:510 🔍 [generateMana] Starting - Turn 9
gameEngine.js:511 🔍 [generateMana] Battlefield: 7 lands, 3 artifacts, 8 creatures
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:591 ⚠️ [PotentialPool] No manifest data for artifact: Mithril Coat
manaPool.js:591 ⚠️ [PotentialPool] No manifest data for artifact: The One Ring
manaPool.js:644 💎 [PotentialPool] Found 9 available mana abilities
manaPool.js:647    0: Sunken Ruins (land) → 1x{C}
manaPool.js:647    1: Island (land) → 1x{U}
manaPool.js:647    2: Underground River (land) → 1x{C}
manaPool.js:647    3: Underground River (land) → 1x{U/B}
manaPool.js:647    4: Path of Ancestry (land) → 1x{W/U/B/R/G}
manaPool.js:647    5: Island (land) → 1x{U}
manaPool.js:647    6: Swamp (land) → 1x{B}
manaPool.js:647    7: Minas Morgul, Dark Fortress (land) → 1x{B}
manaPool.js:647    8: Sol Ring (artifact) → 2x{C}{C}
gameEngine.js:577 🔍 [generateMana] Final total: 12 available sources
gameEngine.js:578 🔍 [generateMana] Preview flexibility: {W: 1, U: 4, B: 4, R: 1, G: 1, …}
enhancedStepByStepGame.js:1889 🔍 [untap] AFTER generateMana - Expected: 9, Actual: 12
eventSystem.js:169 📤 Event Emitted: PHASE_CHANGED {source: 'unknown', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: CARD_DRAWN {source: 'Go for the Throat', queueSize: 1}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {1}{B}
manaPool.js:686 🧮 [ManaSolver] Available sources: 9 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 1}
manaPool.js:731    ✓ Using Underground River for {B}
manaPool.js:758    ✓ Using Sunken Ruins for generic (producing 1x{C})
manaPool.js:761 ✅ [ManaSolver] Found solution using 2 sources
manaPool.js:404 🔍 [canPay] Checking "{1}{B}": YES ✅
gameEngine.js:1005 
🎯 [castSpell] Attempting to cast Go for the Throat
gameEngine.js:1006 🎯 [castSpell] Cost: {1}{B}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {1}{B}
manaPool.js:686 🧮 [ManaSolver] Available sources: 9 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 1}
manaPool.js:731    ✓ Using Underground River for {B}
manaPool.js:758    ✓ Using Sunken Ruins for generic (producing 1x{C})
manaPool.js:761 ✅ [ManaSolver] Found solution using 2 sources
gameEngine.js:1022 ✅ [castSpell] Solution found! Tapping 2 sources
gameEngine.js:1027    🔒 Tapped Underground River (produced {B})
gameEngine.js:1027    🔒 Tapped Sunken Ruins (produced {C})
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:591 ⚠️ [PotentialPool] No manifest data for artifact: Mithril Coat
manaPool.js:591 ⚠️ [PotentialPool] No manifest data for artifact: The One Ring
manaPool.js:644 💎 [PotentialPool] Found 6 available mana abilities
manaPool.js:647    0: Island (land) → 1x{U}
manaPool.js:647    1: Path of Ancestry (land) → 1x{W/U/B/R/G}
manaPool.js:647    2: Island (land) → 1x{U}
manaPool.js:647    3: Swamp (land) → 1x{B}
manaPool.js:647    4: Minas Morgul, Dark Fortress (land) → 1x{B}
manaPool.js:647    5: Sol Ring (artifact) → 2x{C}{C}
eventSystem.js:169 📤 Event Emitted: SPELL_CAST {source: 'Go for the Throat', queueSize: 1}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {2}{B}{B}
manaPool.js:686 🧮 [ManaSolver] Available sources: 6 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 2}
manaPool.js:731    ✓ Using Path of Ancestry for {B}
manaPool.js:731    ✓ Using Swamp for {B}
manaPool.js:758    ✓ Using Island for generic (producing 1x{U})
manaPool.js:758    ✓ Using Island for generic (producing 1x{U})
manaPool.js:761 ✅ [ManaSolver] Found solution using 4 sources
manaPool.js:404 🔍 [canPay] Checking "{2}{B}{B}": YES ✅
gameEngine.js:1005 
🎯 [castSpell] Attempting to cast One Ring to Rule Them All
gameEngine.js:1006 🎯 [castSpell] Cost: {2}{B}{B}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {2}{B}{B}
manaPool.js:686 🧮 [ManaSolver] Available sources: 6 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 2}
manaPool.js:731    ✓ Using Path of Ancestry for {B}
manaPool.js:731    ✓ Using Swamp for {B}
manaPool.js:758    ✓ Using Island for generic (producing 1x{U})
manaPool.js:758    ✓ Using Island for generic (producing 1x{U})
manaPool.js:761 ✅ [ManaSolver] Found solution using 4 sources
gameEngine.js:1022 ✅ [castSpell] Solution found! Tapping 4 sources
gameEngine.js:1027    🔒 Tapped Path of Ancestry (produced {B})
gameEngine.js:1027    🔒 Tapped Swamp (produced {B})
gameEngine.js:1027    🔒 Tapped Island (produced {U})
gameEngine.js:1027    🔒 Tapped Island (produced {U})
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:591 ⚠️ [PotentialPool] No manifest data for artifact: Mithril Coat
manaPool.js:591 ⚠️ [PotentialPool] No manifest data for artifact: The One Ring
manaPool.js:644 💎 [PotentialPool] Found 2 available mana abilities
manaPool.js:647    0: Minas Morgul, Dark Fortress (land) → 1x{B}
manaPool.js:647    1: Sol Ring (artifact) → 2x{C}{C}
eventSystem.js:169 📤 Event Emitted: SPELL_CAST {source: 'One Ring to Rule Them All', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: PERMANENT_ENTERS_BATTLEFIELD {source: 'One Ring to Rule Them All', queueSize: 2}
triggerHandler.js:482 🔔 1 trigger(s) matched event: PERMANENT_ENTERS_BATTLEFIELD
triggerHandler.js:347 🎯 Resolving Trigger: Nazgûl - the Ring tempts you.\nWhenever the Ring tempts you, put a +1/+1 counter on each Wraith you control.\nA deck can have up to nine cards named Nazgûl.
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {1}{B}
manaPool.js:686 🧮 [ManaSolver] Available sources: 2 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 1}
manaPool.js:731    ✓ Using Minas Morgul, Dark Fortress for {B}
manaPool.js:758    ✓ Using Sol Ring for generic (producing 2x{C})
manaPool.js:761 ✅ [ManaSolver] Found solution using 2 sources
manaPool.js:404 🔍 [canPay] Checking "{1}{B}": YES ✅
gameEngine.js:1005 
🎯 [castSpell] Attempting to cast Orcish Bowmasters
gameEngine.js:1006 🎯 [castSpell] Cost: {1}{B}
manaPool.js:685 
🧮 [ManaSolver] Solving cost: {1}{B}
manaPool.js:686 🧮 [ManaSolver] Available sources: 2 abilities
manaPool.js:690 🧮 [ManaSolver] Required: {colored: {…}, generic: 1}
manaPool.js:731    ✓ Using Minas Morgul, Dark Fortress for {B}
manaPool.js:758    ✓ Using Sol Ring for generic (producing 2x{C})
manaPool.js:761 ✅ [ManaSolver] Found solution using 2 sources
gameEngine.js:1022 ✅ [castSpell] Solution found! Tapping 2 sources
gameEngine.js:1027    🔒 Tapped Minas Morgul, Dark Fortress (produced {B})
gameEngine.js:1027    🔒 Tapped Sol Ring (produced {C})
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:591 ⚠️ [PotentialPool] No manifest data for artifact: Mithril Coat
manaPool.js:591 ⚠️ [PotentialPool] No manifest data for artifact: The One Ring
manaPool.js:644 💎 [PotentialPool] Found 0 available mana abilities
eventSystem.js:169 📤 Event Emitted: SPELL_CAST {source: 'Orcish Bowmasters', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: PERMANENT_ENTERS_BATTLEFIELD {source: 'Orcish Bowmasters', queueSize: 2}
triggerHandler.js:482 🔔 2 trigger(s) matched event: PERMANENT_ENTERS_BATTLEFIELD
triggerHandler.js:347 🎯 Resolving Trigger: Nazgûl - the Ring tempts you.\nWhenever the Ring tempts you, put a +1/+1 counter on each Wraith you control.\nA deck can have up to nine cards named Nazgûl.
triggerHandler.js:347 🎯 Resolving Trigger: Orcish Bowmasters - this creature deals 1 damage to any target
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
eventSystem.js:169 📤 Event Emitted: CREATURE_ATTACKS {source: '3/3 Black Wraith Token', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: CREATURE_ATTACKS {source: '3/3 Black Wraith Token', queueSize: 2}
eventSystem.js:169 📤 Event Emitted: COMBAT_DAMAGE_DEALT {source: 'unknown', queueSize: 3}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
enhancedStepByStepGame.js:1880 🔍 [untap] BEFORE generateMana - Expected: 9 (lands:7 + artifacts:2 + creatures:0)
enhancedStepByStepGame.js:1881 🔍 [untap] Land count: 7, Artifact count: 1, Creature count: 0
gameEngine.js:510 🔍 [generateMana] Starting - Turn 10
gameEngine.js:511 🔍 [generateMana] Battlefield: 7 lands, 3 artifacts, 10 creatures
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:591 ⚠️ [PotentialPool] No manifest data for artifact: Mithril Coat
manaPool.js:591 ⚠️ [PotentialPool] No manifest data for artifact: The One Ring
manaPool.js:644 💎 [PotentialPool] Found 9 available mana abilities
manaPool.js:647    0: Sunken Ruins (land) → 1x{C}
manaPool.js:647    1: Island (land) → 1x{U}
manaPool.js:647    2: Underground River (land) → 1x{C}
manaPool.js:647    3: Underground River (land) → 1x{U/B}
manaPool.js:647    4: Path of Ancestry (land) → 1x{W/U/B/R/G}
manaPool.js:647    5: Island (land) → 1x{U}
manaPool.js:647    6: Swamp (land) → 1x{B}
manaPool.js:647    7: Minas Morgul, Dark Fortress (land) → 1x{B}
manaPool.js:647    8: Sol Ring (artifact) → 2x{C}{C}
gameEngine.js:577 🔍 [generateMana] Final total: 12 available sources
gameEngine.js:578 🔍 [generateMana] Preview flexibility: {W: 1, U: 4, B: 4, R: 1, G: 1, …}
enhancedStepByStepGame.js:1889 🔍 [untap] AFTER generateMana - Expected: 9, Actual: 12
eventSystem.js:169 📤 Event Emitted: PHASE_CHANGED {source: 'unknown', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: CARD_DRAWN {source: 'Island', queueSize: 1}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
manaPool.js:554 
💎 [PotentialPool] Building available sources...
manaPool.js:591 ⚠️ [PotentialPool] No manifest data for artifact: Mithril Coat
manaPool.js:591 ⚠️ [PotentialPool] No manifest data for artifact: The One Ring
manaPool.js:644 💎 [PotentialPool] Found 10 available mana abilities
manaPool.js:647    0: Sunken Ruins (land) → 1x{C}
manaPool.js:647    1: Island (land) → 1x{U}
manaPool.js:647    2: Underground River (land) → 1x{C}
manaPool.js:647    3: Underground River (land) → 1x{U/B}
manaPool.js:647    4: Path of Ancestry (land) → 1x{W/U/B/R/G}
manaPool.js:647    5: Island (land) → 1x{U}
manaPool.js:647    6: Swamp (land) → 1x{B}
manaPool.js:647    7: Minas Morgul, Dark Fortress (land) → 1x{B}
manaPool.js:647    8: Island (land) → 1x{U}
manaPool.js:647    9: Sol Ring (artifact) → 2x{C}{C}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
eventSystem.js:169 📤 Event Emitted: CREATURE_ATTACKS {source: '3/3 Black Wraith Token', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: CREATURE_ATTACKS {source: 'Orcish Bowmasters', queueSize: 2}
eventSystem.js:169 📤 Event Emitted: COMBAT_DAMAGE_DEALT {source: 'unknown', queueSize: 3}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}

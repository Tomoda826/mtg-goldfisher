App.jsx:93 Loaded 32731 cards into database
App.jsx:241 Deck Strategy Analysis: {success: true, timestamp: '2025-10-30T00:58:40.347Z', analysis: {…}, metadata: {…}}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
activatedAbilityEngine.js:116 [parseActivatedAbilities] Detected landcycling: Lórien Revealed → Island (cost: {1})
activatedAbilityEngine.js:70 [parseActivatedAbilities] Detected fetch land: Evolving Wilds
activatedAbilityEngine.js:116 [parseActivatedAbilities] Detected landcycling: Lórien Revealed → Island (cost: {1})
enhancedStepByStepGame.js:675 🔍 Creating deck behavior manifest...
enhancedStepByStepGame.js:708 ✅ Behavior manifest created: {totalManaProducers: 22, totalFetchLands: 1, totalTokenGenerators: 12, totalCardDraw: 21}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
enhancedStepByStepGame.js:1880 🔍 [untap] BEFORE generateMana - Expected: 0 (lands:0 + artifacts:0 + creatures:0)
enhancedStepByStepGame.js:1881 🔍 [untap] Land count: 0, Artifact count: 0, Creature count: 0
gameEngine.js:494 🔍 [generateMana] Starting - Turn 1
gameEngine.js:495 🔍 [generateMana] Battlefield: 0 lands, 0 artifacts, 0 creatures
gameEngine.js:504 🔍 [generateMana] Pool emptied
gameEngine.js:747 🔍 [generateMana] Final total: 0
gameEngine.js:748 🔍 [generateMana] Final pool: {W: 0, U: 0, B: 0, R: 0, G: 0, …}
enhancedStepByStepGame.js:1889 🔍 [untap] AFTER generateMana - Expected: 0, Actual: 0
eventSystem.js:169 📤 Event Emitted: PHASE_CHANGED {source: 'unknown', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: CARD_DRAWN {source: 'Claim the Precious', queueSize: 1}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
gameEngine.js:974 [castSpell] Attempting to cast Lightning Greaves (cost: 2)
gameEngine.js:975 [castSpell] Current pool: {W: 0, U: 1, B: 0, R: 0, G: 0, …} Total: 2
gameEngine.js:984 [castSpell] ✅ Affordability check PASSED - proceeding with cast
eventSystem.js:169 📤 Event Emitted: SPELL_CAST {source: 'Lightning Greaves', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: PERMANENT_ENTERS_BATTLEFIELD {source: 'Lightning Greaves', queueSize: 2}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
enhancedStepByStepGame.js:1880 🔍 [untap] BEFORE generateMana - Expected: 1 (lands:1 + artifacts:0 + creatures:0)
enhancedStepByStepGame.js:1881 🔍 [untap] Land count: 1, Artifact count: 0, Creature count: 0
gameEngine.js:494 🔍 [generateMana] Starting - Turn 2
gameEngine.js:495 🔍 [generateMana] Battlefield: 1 lands, 1 artifacts, 0 creatures
gameEngine.js:504 🔍 [generateMana] Pool emptied
gameEngine.js:515 🔍 [Underground River] Manifest data: {
  "hasManaAbility": true,
  "abilities": [
    {
      "abilityText": "{T}: Add {C}.\\n{T}: Add {U} or {B}. This land deals 1 damage to you.",
      "isManaAbility": true,
      "isModal": true,
      "activationCost": [
        "{T}"
      ],
      "produces": [
        {
          "quantity": 1,
          "types": [
            "C"
          ]
        },
        {
          "quantity": 1,
          "types": [
            "U"
          ]
        }
      ]
    }
  ]
}
gameEngine.js:550 🔍 [Underground River] Activatable abilities: 1
gameEngine.js:551 🔍 [Underground River] Best ability: {
  "abilityText": "{T}: Add {C}.\\n{T}: Add {U} or {B}. This land deals 1 damage to you.",
  "isManaAbility": true,
  "isModal": true,
  "activationCost": [
    "{T}"
  ],
  "produces": [
    {
      "quantity": 1,
      "types": [
        "C"
      ]
    },
    {
      "quantity": 1,
      "types": [
        "U"
      ]
    }
  ]
}
gameEngine.js:747 🔍 [generateMana] Final total: 2
gameEngine.js:748 🔍 [generateMana] Final pool: {W: 0, U: 1, B: 0, R: 0, G: 0, …}
enhancedStepByStepGame.js:1889 🔍 [untap] AFTER generateMana - Expected: 1, Actual: 2
eventSystem.js:169 📤 Event Emitted: PHASE_CHANGED {source: 'unknown', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: CARD_DRAWN {source: 'The One Ring', queueSize: 1}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
enhancedStepByStepGame.js:1880 🔍 [untap] BEFORE generateMana - Expected: 2 (lands:2 + artifacts:0 + creatures:0)
enhancedStepByStepGame.js:1881 🔍 [untap] Land count: 2, Artifact count: 0, Creature count: 0
gameEngine.js:494 🔍 [generateMana] Starting - Turn 3
gameEngine.js:495 🔍 [generateMana] Battlefield: 2 lands, 1 artifacts, 0 creatures
gameEngine.js:504 🔍 [generateMana] Pool emptied
gameEngine.js:515 🔍 [Underground River] Manifest data: {
  "hasManaAbility": true,
  "abilities": [
    {
      "abilityText": "{T}: Add {C}.\\n{T}: Add {U} or {B}. This land deals 1 damage to you.",
      "isManaAbility": true,
      "isModal": true,
      "activationCost": [
        "{T}"
      ],
      "produces": [
        {
          "quantity": 1,
          "types": [
            "C"
          ]
        },
        {
          "quantity": 1,
          "types": [
            "U"
          ]
        }
      ]
    }
  ]
}
gameEngine.js:550 🔍 [Underground River] Activatable abilities: 1
gameEngine.js:551 🔍 [Underground River] Best ability: {
  "abilityText": "{T}: Add {C}.\\n{T}: Add {U} or {B}. This land deals 1 damage to you.",
  "isManaAbility": true,
  "isModal": true,
  "activationCost": [
    "{T}"
  ],
  "produces": [
    {
      "quantity": 1,
      "types": [
        "C"
      ]
    },
    {
      "quantity": 1,
      "types": [
        "U"
      ]
    }
  ]
}
manaPool.js:165 [ManaPool] Chose U from U,B (hand needs it)
gameEngine.js:747 🔍 [generateMana] Final total: 3
gameEngine.js:748 🔍 [generateMana] Final pool: {W: 0, U: 2, B: 0, R: 0, G: 0, …}
enhancedStepByStepGame.js:1889 🔍 [untap] AFTER generateMana - Expected: 2, Actual: 3
eventSystem.js:169 📤 Event Emitted: PHASE_CHANGED {source: 'unknown', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: CARD_DRAWN {source: 'Orcish Bowmasters', queueSize: 1}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
apiClient.js:83 API Response received: {model: 'gpt-5-mini-2025-08-07', finishReason: 'stop', hasContent: true}
gameEngine.js:974 [castSpell] Attempting to cast The One Ring (cost: 4)
gameEngine.js:975 [castSpell] Current pool: {W: 0, U: 3, B: 0, R: 0, G: 0, …} Total: 5
gameEngine.js:984 [castSpell] ✅ Affordability check PASSED - proceeding with cast
eventSystem.js:169 📤 Event Emitted: SPELL_CAST {source: 'The One Ring', queueSize: 1}
eventSystem.js:169 📤 Event Emitted: PERMANENT_ENTERS_BATTLEFIELD {source: 'The One Ring', queueSize: 2}
triggerHandler.js:482 🔔 1 trigger(s) matched event: PERMANENT_ENTERS_BATTLEFIELD
triggerHandler.js:347 🎯 Resolving Trigger: The One Ring - if you cast it, you gain protection from everything until your next turn.\nAt the beginning of your upkeep, you lose 1 life for each burden counter on The One Ring.\n{T}: Put a burden counter on The One Ring, then draw a card for each burden counter on The One Ring.